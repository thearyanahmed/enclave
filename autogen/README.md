# Autogenerated Types

Type definitions generated from Rust source files using `enclave-codegen`.

## Structure

```
types/
├── typescript/           # TypeScript interfaces and type aliases
│   ├── core/             # Core types (AuthError, AuthUser, ValidationError)
│   ├── tokens/           # Token types (AccessToken, PasswordResetToken, etc.)
│   ├── jwt/              # JWT types (TokenPair, TokenType, JwtClaims)
│   ├── audit/            # Audit types (AuditEventType, AuditLog)
│   ├── api/
│   │   ├── requests/     # API request DTOs
│   │   └── responses/    # API response DTOs
│   └── teams/
│       ├── api/
│       │   ├── requests/ # Teams API request DTOs
│       │   └── responses/# Teams API response DTOs
│       └── (core team types)
└── javascript/           # JavaScript with JSDoc annotations
    ├── core/
    ├── tokens/
    ├── jwt/
    ├── audit/
    ├── api/
    │   ├── requests/
    │   └── responses/
    └── teams/
        ├── api/
        │   ├── requests/
        │   └── responses/
        └── (core team types)
```

## TypeScript Usage

```typescript
import type { AuthUser } from './types/typescript/core/AuthUser';
import type { LoginRequest } from './types/typescript/api/requests/LoginRequest';
import type { AuthResponse } from './types/typescript/api/responses/AuthResponse';
```

## JavaScript Usage

The JavaScript types include JSDoc annotations with documentation extracted from Rust source comments:

```javascript
// Import for JSDoc type hints
/** @typedef {import('./types/javascript/core/AuthUser').AuthUser} AuthUser */

/**
 * @param {AuthUser} user
 */
function displayUser(user) {
  console.log(user.name);
}
```

## Regenerating

To regenerate types after modifying Rust structs:

```bash
make codegen
```

Or run the script directly:

```bash
./scripts/codegen.sh
```

## Adding New Types

Edit `scripts/codegen.sh` to add new types:

```bash
cargo run -q -p enclave-codegen -- \
    --source ./src \
    --output "$TS_BASE/your-category" \
    --format typescript \
    --types "YourType:path/to/file.rs"

cargo run -q -p enclave-codegen -- \
    --source ./src \
    --output "$JS_BASE/your-category" \
    --format jsdoc \
    --types "YourType:path/to/file.rs"
```
